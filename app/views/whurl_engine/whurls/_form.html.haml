:javascript
  $(function() {
    var $whurlForm = $('.whurl_form');
    new Whurl($whurlForm);
  });
.whurl_form
  = form_tag do
    .row
      .section_title
        URL
      .url
        = select_tag(:request_method, options_for_select(["GET", "POST", "PUT", "DELETE", "HEAD"]))
        \/
        \#{text_field_tag(:request_url)}
    .row
      .section_title
        Basic Auth
      .fields
        .field_pair
          = text_field_tag(:basic_auth_user, nil, :placeholder => 'username')
          = text_field_tag(:basic_auth_password, nil, :placeholder => 'password')
    .row
      .section_title
        %a.trash_headers{:class => 'trash button icon_only', :title => "trash all headers"}
        %a.add_header{:class => 'add button icon_only', :title => "add another header"}
        Headers
      .headers
        = render :partial => 'whurl_engine/whurls/input_set', :locals => {:set_name => 'header', :key => nil, :value => nil, :disabled => true}
        = render :partial => 'whurl_engine/whurls/input_set', :locals => {:set_name => 'header', :key => nil, :value => nil, :disabled => false}
    .row
      .section_title
        %a.trash_queries{:class => 'trash button icon_only', :title => "trash all parameters"}
        %a.add_param{:class => 'add button icon_only', :title => "add another parameter"}
        Query
      .params
        = render :partial => 'whurl_engine/whurls/input_set', :locals => {:set_name => 'param', :key => nil, :value => nil, :disabled => true}
        = render :partial => 'whurl_engine/whurls/input_set', :locals => {:set_name => 'param', :key => nil, :value => nil, :disabled => false}
    .row
      .section_title
        Body
      .post_body
        = text_area_tag(:request_body)
    .button_row
      %input#clear_fields{:type => 'button', :value => "Clear", :class => 'clear_fields'}
      %input#give_it_a-whurl{:type => 'submit', :value => "Give it a Whurl!"}/
